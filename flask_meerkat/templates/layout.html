{% extends "bootstrap/base.html" %}
{% block styles %}
{{ super() }}
<link rel="stylesheet"
      href="{{ url_for('.static', filename='custom_style.css') }}">
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
{% endblock styles %}
{% block title %}Meerkat{% endblock title %}

{% block content %}
<div class="d-flex">
    <!-- Sidebar-->
    <div class="border-end bg-white">
        <div class="sidebar-heading border-bottom bg-light">Meerkat</div>
        <div class="list-group list-group-flush">
            {% if current_user.is_authenticated %}
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{{ url_for('home') }}">Home</a>
            {% if current_user.id == 1 %}
            <a class="list-group-item list-group-item-action list-group-item-light p-3"
               href="{{ url_for('whitelist')}}">Whitelist</a>
            {% endif %}
            {% endif %}
        </div>
    </div>
    <div>
        <!-- Top navigation-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mt-2 mt-lg-0">
                        {% if current_user.is_authenticated %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('account') }}">Account</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Log out</a></li>
                        {% else %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('signup') }}">Register</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('signin') }}">Log in</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page content-->
        <div class="container-fluid">
            <div>
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                    {{ message }}
                </div>
                {% endfor %}
                {% endif %}
                {% endwith%}
            </div>
            <div class="container">
                {% block app_content %}

                {% endblock app_content %}
            </div>
        </div>
        {% endblock content %}
    </div>
</div>
